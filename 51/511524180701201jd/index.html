<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":false,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":0,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="基于javaweb的SSM汽车租赁管理系统(java+ssm+elementui+vue+mysql)">
<meta property="og:site_name" content="Java源码社">
<meta property="og:locale" content="zh_CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/511524180701201jd/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<link rel="stylesheet" type="text/css" href="/css/injector/main.css" /><link rel="preload" as="style" href="/css/injector/light.css" /><link rel="preload" as="style" href="/css/injector/dark.css" />
  <title>基于javaweb的SSM汽车租赁管理系统(java+ssm+elementui+vue+mysql) | Java源码社</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Java源码社</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>联系站长</a>

  </li>
        <li class="menu-item menu-item-remote">

    <a href="/remote/" rel="section"><i class="fa fa-link fa-fw"></i>远程说明</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索...书店、票、购物、图书、学生…" spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/511524180701201jd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="购买方式见各详情页<b>底部</b><br>所有项目均可<b><a href="/remote">免费远程</a></b>搭建调试运行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Java源码社">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
			<!--
            /
			-->
			基于javaweb的SSM汽车租赁管理系统(java+ssm+elementui+vue+mysql)
            
        </h1>

        <div class="post-meta">
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time id="dateText" itemprop="dateModified">更新:1970年01月</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><span hidden>——————————DescriptionStart——————————</span></p>
<h3 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h3><p>Java≥8、MySQL≥5.7、Tomcat≥8、Node.js≥10</p>
<h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><p>后端：eclipse/idea/myeclipse/sts等均可配置运行<br>前端：WebStorm/VSCode/HBuilderX等均可</p>
<h3 id="适用"><a href="#适用" class="headerlink" title="适用"></a>适用</h3><p>课程设计，大作业，毕业设计，项目练习，学习演示等</p>
<h3 id="功能说明"><a href="#功能说明" class="headerlink" title="功能说明"></a>功能说明</h3><p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/331424000701.jpg" alt="331424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/341424000701.jpg" alt="341424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/351424000701.jpg" alt="351424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/361424000701.jpg" alt="361424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/371424000701.jpg" alt="371424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/381424000701.jpg" alt="381424000701"></p>
<p><img src="https://yms-1257401191.cos.ap-nanjing.myqcloud.com/project25/391424000701.jpg" alt="391424000701"></p>
<p>基于javaweb的SSM汽车租赁管理系统(java+ssm+elementui+vue+mysql)</p>
<p>项目介绍</p>
<p>主要功能包括:</p>
<p>管理员：首页、个人中心、用户管理、汽车类型管理、车辆信息管理、租车信息管理、还车信息管理、评价信息管理、故障上报管理、系统管理。</p>
<p>用户前台：首页、车辆信息、新闻资讯、我的、跳转到后台、客服。用户后台：首页、个人中心、租车信息管理、还车信息管理、评价信息管理、故障上报管理、我的收藏管理等功能。</p>
<p>环境需要</p>
<p>1.运行环境：最好是java jdk 1.8，我们在这个平台上运行的。其他版本理论上也可以。 2.IDE环境：IDEA，Eclipse,Myeclipse都可以。推荐IDEA; 3.tomcat环境：Tomcat 7.x,8.x,9.x版本均可 4.硬件环境：windows 7/8/10 1G内存以上；或者 Mac OS； 5.是否Maven项目: 否；查看源码目录中是否包含pom.xml；若包含，则为maven项目，否则为非maven项目; 6.数据库：MySql 5.7/8.0等版本均可；</p>
<p>技术栈</p>
<p>后端：SSM(Spring+SpringMVC+Mybatis) 前端：ElementUI+Vue</p>
<p>使用说明</p>
<ol>
<li>使用Navicat或者其它工具，在mysql中创建对应名称的数据库，并导入项目的sql文件； 2. 使用IDEA/Eclipse/MyEclipse导入项目，修改配置，运行项目； 3. 将项目中db.xml配置文件中的数据库配置改为自己的配置，然后运行；</li>
</ol>
<p><span hidden>——————————CodeStart——————————</span></p>
<p>管理员管理控制层：</p>
<p>@Controller</p>
<p>@RequestMapping(value = “/admin”)</p>
<p>public class AdminManageController {</p>
<p>public static void main(String[] args) {</p>
<p>AdminService adminService = new AdminService();</p>
<p>SendMailService sendMailService = new SendMailService();</p>
<p>/**</p>
<ul>
<li><p>Code:200 Data=id (id是String类型)管理员信息正确</p>
</li>
<li><p>Code:205 Data=0 管理员不存在</p>
</li>
<li><p>Code:206 Data=-3 管理员密码错误</p>
</li>
<li><p>Code:207 Data=-2 管理员账户被重复</p>
</li>
<li><p>Code:404 Data=-1 catch异常</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@param password</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/adminLogin”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg adminLogin(String username, String password) {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>if (adminService.getAdminByName(username).size() == 0) {</p>
<p>jsonMsg.setCode(“205”);</p>
<p>jsonMsg.setData(0);</p>
<p>} else if (adminService.getAdminByName(username).size() != 1) {</p>
<p>jsonMsg.setCode(“207”);</p>
<p>jsonMsg.setData(-2);</p>
<p>else{</p>
<p>int id;</p>
<p>if(!adminService.getAdminByName(username).get(0).getPassword().equals(password))</p>
<p>jsonMsg.setCode(“206”);</p>
<p>jsonMsg.setData(-3);</p>
<p>} else {</p>
<p>id = adminService.getAdminByName(username).get(0).getId();</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(adminService.getAdminById(id));</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>Code=404 Data=-1 抛出异常不做改变</p>
</li>
<li><p>Code=202 Data=0 不变/修改无效</p>
</li>
<li><p>Code=202 Data=-2 id不存在</p>
</li>
<li><p>Code=202 Data=-3 名字修改时产生重复</p>
</li>
<li><p>Code=200 Data&gt;=1 修改成功 Data=修改的信息数量</p>
</li>
<li><p>参数都可以为null，但是id为null无法更新</p>
</li>
<li><p>null的参数不做更新</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@param password</p>
</li>
<li><p>@param email</p>
</li>
<li><p>@param description</p>
</li>
<li><p>@param pic</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/adminUpdate”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg updateAdmin(int id,String username,String password,String email,String description,String pic)</p>
<p>int status=0;</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>AdminBean ub=new AdminBean();</p>
<p>ub.setUsername(username);</p>
<p>ub.setPassword(password);</p>
<p>ub.setEmail(email);</p>
<p>ub.setDescription(description);</p>
<p>ub.setPic(pic);</p>
<p>try {</p>
<p>status = adminService.updateUserById(id, ub);</p>
<p>jsonMsg.setData(status);</p>
<p>if (status &gt;= 1) {</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“202”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>向user的email发邮件</p>
</li>
<li><p>@param email</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/sendEmail”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg sendEmail(String email, String username) {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>if (sendMailService.sendmail(email, username)) {</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(“Send Email Success”);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“205”);</p>
<p>jsonMsg.setData(“Send Email Failed”);</p>
<p>} catch (Exception e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>//    @RequestMapping(value = “/login”, method = RequestMethod.GET)</p>
<p>//    @ResponseBody</p>
<p>//    public JsonMsg login(String username, String password) {</p>
<p>//        JsonMsg jsonMsg = new JsonMsg();</p>
<p>//        try {</p>
<p>//            if (adminService.getAdminByNamePassword(username, password).size() == 0) {</p>
<p>//                jsonMsg.setCode(“205”);</p>
<p>//            } else {</p>
<p>//                jsonMsg.setCode(“200”);</p>
<p>//            }</p>
<p>//            jsonMsg.setData(adminService.getAdminByNamePassword(username, password));</p>
<p>//        } catch (Exception e) {</p>
<p>//            jsonMsg.setCode(“404”);</p>
<p>//            e.printStackTrace();</p>
<p>//        }</p>
<p>//        return jsonMsg;</p>
<p>//    }</p>
<p>//</p>
<p>//    @RequestMapping(value = “/getAdminByid”, method = RequestMethod.GET)</p>
<p>//    @ResponseBody</p>
<p>//    public JsonMsg login(String id) {</p>
<p>//        JsonMsg jsonMsg = new JsonMsg();</p>
<p>//        try {</p>
<p>//            jsonMsg.setCode(“200”);</p>
<p>//            jsonMsg.setData(adminService.getAdminById(id));</p>
<p>//        } catch (Exception e) {</p>
<p>//            jsonMsg.setCode(“404”);</p>
<p>//            e.printStackTrace();</p>
<p>//        }</p>
<p>//        return jsonMsg;</p>
<p>//    }</p>
<p>//    /**</p>
<p>//     * 这个是用来注册管理员</p>
<p>//     * 我加了一个Deprecated的annotation</p>
<p>//     *</p>
<p>//     * @param username</p>
<p>//     * @param password</p>
<p>//     * @param email</p>
<p>//     * @return</p>
<p>//     */</p>
<p>//    @RequestMapping(value = “/register”, method = RequestMethod.GET)</p>
<p>//    @ResponseBody</p>
<p>//    @Deprecated</p>
<p>//    public JsonMsg addAdmin(String username, String password, String email) {</p>
<p>//        JsonMsg jsonMsg = new JsonMsg();</p>
<p>//        try {</p>
<p>//            jsonMsg.setCode(“200”);</p>
<p>//            jsonMsg.setData(adminService.addAdmin(username, password, email));</p>
<p>//        } catch (Exception e) {</p>
<p>//            jsonMsg.setCode(“404”);</p>
<p>//            e.printStackTrace();</p>
<p>//        }</p>
<p>//        return jsonMsg;</p>
<p>//    }</p>
<p>//</p>
<p>//    /**</p>
<p>//     * 用来注册普通用户</p>
<p>//     *</p>
<p>//     * @param username</p>
<p>//     * @param password</p>
<p>//     * @param email</p>
<p>//     * @return</p>
<p>//     */</p>
<p>//    @RequestMapping(value = “/registerUser”, method = RequestMethod.GET)</p>
<p>//    @ResponseBody</p>
<p>//    public JsonMsg addUser(String username, String password, String email) {</p>
<p>//        JsonMsg jsonMsg = new JsonMsg();</p>
<p>//        jsonMsg.setCode(“200”);</p>
<p>//        jsonMsg.setData(1);</p>
<p>//        return jsonMsg;</p>
<p>//    }</p>
<p>//</p>
<p>//    @RequestMapping(value=”/userLogin”,method=RequestMethod.GET)</p>
<p>//    @ResponseBody</p>
<p>//    public JsonMsg userLogin(String username, String password){</p>
<p>//        return null;</p>
<p>//    }</p>
<p>用户信息管理控制层：</p>
<p>@Controller</p>
<p>@RequestMapping(value = “/user”)</p>
<p>public class UserManageController {</p>
<p>UserService userService = new UserService();</p>
<p>SendMailService sendMailService = new SendMailService();</p>
<p>/**</p>
<ul>
<li><p>Code:200 Data=userBean 用户信息正确</p>
</li>
<li><p>Code:205 Data=0 用户不存在</p>
</li>
<li><p>Code:206 Data=-3 用户密码错误</p>
</li>
<li><p>Code:207 Data=-2 用户账户被重复</p>
</li>
<li><p>Code:404 Data=-1 catch异常</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@param password</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userLogin”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg userLogin(String username, String password) {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>if (userService.getUserByName(username).size() == 0) {</p>
<p>jsonMsg.setCode(“205”);</p>
<p>jsonMsg.setData(0);</p>
<p>} else if (userService.getUserByName(username).size() != 1) {</p>
<p>jsonMsg.setCode(“207”);</p>
<p>jsonMsg.setData(-2);</p>
<p>else{</p>
<p>int id;</p>
<p>if(!userService.getUserByName(username).get(0).getPassword().equals(password))</p>
<p>jsonMsg.setCode(“206”);</p>
<p>jsonMsg.setData(-3);</p>
<p>} else {</p>
<p>id = userService.getUserByName(username).get(0).getId();</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(userService.getUserById(id));</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>注册用户</p>
</li>
<li><p>Code=”200”，Data=1（int）则注册成功</p>
</li>
<li><p>Code=”202”，Data=0 (int)注册失败，用户已经存在</p>
</li>
<li><p>Code=”404”  Data=-1页面丢失</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@param password</p>
</li>
<li><p>@param email</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userRegister”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg addUser(String username, String password, String email) {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>int result =</p>
<p>userService.addUser(username, password, email, null, null, 0);</p>
<p>if (result == 0) {</p>
<p>jsonMsg.setData(0);</p>
<p>jsonMsg.setCode(“202”);</p>
<p>} else {</p>
<p>jsonMsg.setData(1);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (Exception e) {</p>
<p>jsonMsg.setData(-1);</p>
<p>jsonMsg.setCode(“404”);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>删除用户（管理员操作）</p>
</li>
<li><p>Code=200，Data=1，删除成功</p>
</li>
<li><p>Code=202，Data=0，删除失败</p>
</li>
<li><p>Code=404，Data=-1页面丢失</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userDelete”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg removeUserById(int id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>int i = userService.removeUserById(id);</p>
<p>if (i == 1) {</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(1);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“202”);</p>
<p>jsonMsg.setData(0);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>发送邮件</p>
</li>
<li><p>Code=200 Data=1发送成功</p>
</li>
<li><p>Code=205 Data=0发送失败</p>
</li>
<li><p>Code=404 Data=-1页面失效</p>
</li>
<li><p>@param email</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/sendEmail”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg sendEmail(String email, String username) {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>if (sendMailService.sendmail(email, username)) {</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(1);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“205”);</p>
<p>jsonMsg.setData(0);</p>
<p>} catch (Exception e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>Code=404 Data=-1 抛出异常不做改变</p>
</li>
<li><p>Code=202 Data=0 不变/修改无效</p>
</li>
<li><p>Code=202 Data=-2 id不存在</p>
</li>
<li><p>Code=202 Data=-3 名字修改时产生重复</p>
</li>
<li><p>Code=200 Data&gt;=1 修改成功 Data=修改的信息数量</p>
</li>
<li><p>参数都可以为null，但是id为null无法更新</p>
</li>
<li><p>null的参数不做更新</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@param username</p>
</li>
<li><p>@param password</p>
</li>
<li><p>@param email</p>
</li>
<li><p>@param description</p>
</li>
<li><p>@param pic</p>
</li>
<li><p>@param money</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userUpdate”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg updateUser(int id,String username,String password,String email,String description,String pic,String money)</p>
<p>int status=0;</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>UserBean ub=new UserBean();</p>
<p>ub.setUserName(username);</p>
<p>ub.setPassword(password);</p>
<p>ub.setEmail(email);</p>
<p>ub.setDescription(description);</p>
<p>ub.setPic(pic);</p>
<p>try {</p>
<p>ub.setMoney(Integer.parseInt(money));</p>
<p>} catch (Exception e) {</p>
<p>ub.setMoney(Integer.MIN_VALUE);</p>
<p>try {</p>
<p>status = userService.updateUserById(id, ub);</p>
<p>jsonMsg.setData(status);</p>
<p>if (status &gt;= 1) {</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“202”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>JsonMsg ID具体查找用户</p>
</li>
<li><p>Code:404,Data=-1查找失败</p>
</li>
<li><p>Code:200,Data=UserBean 查找成功</p>
</li>
<li><p>Code：202，Data=0，没有查到</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userLocate”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg getUserByID(int id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>//admin–&gt;曹威杰：我觉得这里的代码写的有点奇怪。我改了一下</p>
<p>/*            List<UserBean> users= userService.getUserById(id);</UserBean></p>
<p>if(users.size()==0)</p>
<p>jsonMsg.setData(0);</p>
<p>jsonMsg.setCode(“202”);</p>
<p>else if(users.size()==1){</p>
<p>jsonMsg.setData(users.get(0));</p>
<p>jsonMsg.setCode(“200”);</p>
<p>else{</p>
<p>throw new SQLException(“用户名被重复，sql出现问题”);</p>
<p>}*/</p>
<p>UserBean user = userService.getUserById(id);</p>
<p>if(user!=null){</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(user);</p>
<p>} else {</p>
<p>jsonMsg.setCode(“202”);</p>
<p>jsonMsg.setData(0);</p>
<p>//曹威杰：以上就是我的修改</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>Code200，Data List<UserBean></UserBean></p>
</li>
<li><p>Code404.Data -1 取出失败</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/userTraversal”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg getUsers() {</p>
<p>JsonMsg jsonMsg = new JsonMsg();</p>
<p>try {</p>
<p>jsonMsg.setData(userService.getAllUserBean());</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>Code200，UserBean</p>
</li>
<li><p>Code202,用户不存在</p>
</li>
<li><p>Code404 用户被重复/</p>
</li>
<li><p>Code404.Data -1 取出失败</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/getUserByName”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg getUsersByName(String username)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>List<UserBean> users= userService.getUserByName(username);</UserBean></p>
<p>if(users.size()==0)</p>
<p>jsonMsg.setData(0);</p>
<p>jsonMsg.setCode(“202”);</p>
<p>else if(users.size()==1){</p>
<p>jsonMsg.setData(users.get(0));</p>
<p>jsonMsg.setCode(“200”);</p>
<p>else{</p>
<p>throw new SQLException(“用户名被重复，sql出现问题”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>车辆信息管理控制层： </p>
<p>@Controller</p>
<p>@RequestMapping(value = “/carin”)</p>
<p>public class CarInController {</p>
<p>CarInService orderService=new CarInService();</p>
<p>//对于用户</p>
<p>/**</p>
<p>*添加订单，必须设置名字和价格</p>
<ul>
<li><p>code=200 data=1添加成功</p>
</li>
<li><p>code=200 data=0添加失败</p>
</li>
<li><p>code=202 data=0参数有错误</p>
</li>
<li><p>code=404 data=-1异常</p>
</li>
<li><p>@param sender_id</p>
</li>
<li><p>@param name</p>
</li>
<li><p>@param price</p>
</li>
<li><p>@param pic</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderAdd”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderAdd(int sender_id,String name,String price,String pic)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>if(price==null||name==null)</p>
<p>jsonMsg.setCode(“202”);</p>
<p>jsonMsg.setData(0);</p>
<p>try {</p>
<p>int i=orderService.add(sender_id,name,Integer.parseInt(price),pic);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>jsonMsg.setData(i);</p>
<p>} catch (Exception e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>删除一个订单</p>
</li>
<li><p>code=200 data=1删除成功</p>
</li>
<li><p>code=200 data=0删除失败</p>
</li>
<li><p>code=404 data=-1删除失败</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderDelete”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderDelete(int id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>jsonMsg.setData(orderService.deleteOrder(id));</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>修改订单对应的车辆信息</p>
</li>
<li><p>code=200 data=1修改成功</p>
</li>
<li><p>code=200 data=0 修改失败</p>
</li>
<li><p>code=202 data=0 id不存在</p>
</li>
<li><p>code=404 data=-1 异常抛出，比如price不是数字</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@param name</p>
</li>
<li><p>@param price</p>
</li>
<li><p>@param pic</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderModify”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderModify(int id,String name,String price,String pic)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>CarBean car=new CarBean();</p>
<p>CarService carService=new CarService();</p>
<p>car.setName(name);</p>
<p>if(price==null)</p>
<p>car.setPrice(Integer.MIN_VALUE);</p>
<p>else</p>
<p>car.setPrice(Integer.parseInt(price));</p>
<p>car.setPic(pic);</p>
<p>if(orderService.getOrderById(id)==null)</p>
<p>jsonMsg.setCode(“202”);</p>
<p>jsonMsg.setData(0);</p>
<p>jsonMsg.setData(carService.updateCar(orderService.getOrderById(id).getCar_id(),car));</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (Exception e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>得到和myId相关的所有订单</p>
</li>
<li><p>code=200，data存这些订单</p>
</li>
<li><p>code=404 data=-1异常</p>
</li>
<li><p>@param myId</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/myOrder”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg getMyOrder(int myId)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>List<CarInBean> orders= null;</CarInBean></p>
<p>List<CarInBean> myOrders=new ArrayList<CarInBean>();</CarInBean></CarInBean></p>
<p>try {</p>
<p>orders = orderService.getAllOrder();</p>
<p>for(CarInBean car:orders)</p>
<p>if(car.getSender_id()==myId||car.getReceiver_id()==myId)</p>
<p>myOrders.add(car);</p>
<p>jsonMsg.setData(myOrders);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>得到和passed的所有订单等待被接受的</p>
</li>
<li><p>code=200，data存这些订单</p>
</li>
<li><p>code=404 data=-1异常</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/passedOrder”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg getpassedOrder()</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>List<CarInBean> orders= null;</CarInBean></p>
<p>List<CarInBean> myOrders=new ArrayList<CarInBean>();</CarInBean></CarInBean></p>
<p>try {</p>
<p>orders = orderService.getAllOrder();</p>
<p>for(CarInBean car:orders)</p>
<p>if(car.getStatus()==1)</p>
<p>myOrders.add(car);</p>
<p>jsonMsg.setData(myOrders);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>得到所有的order</p>
</li>
<li><p>code=200 data为这些order</p>
</li>
<li><p>code=404 data=-1 异常</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderTraversal”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderTraversal()</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>List<CarInBean> orders= null;</CarInBean></p>
<p>try {</p>
<p>orders = orderService.getAllOrder();</p>
<p>jsonMsg.setData(orders);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>接受某个订单</p>
</li>
<li><p>提供订单的id号和接收者的id</p>
</li>
<li><p>code=200，data=1 接受成功</p>
</li>
<li><p>code=200 data=0 接受失败</p>
</li>
<li><p>code=404 data=-1 页面异常</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@param receiver_id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderAccept”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderAccept(int id,int receiver_id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>int i=orderService.updateUser(id,receiver_id);</p>
<p>jsonMsg.setData(i);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><p>管理员通过某个订单</p>
</li>
<li><p>code=200 data=1 通过成功</p>
</li>
<li><p>code=200 data=0 通过失败，id不存在或者状态异常</p>
</li>
<li><p>code=404 data=-1 异常</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderPass”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderPass(int id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>int i=orderService.pass(id);</p>
<p>jsonMsg.setData(i);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p>/**</p>
<ul>
<li><pre><code> * code=200 data=1 不通过成功</code></pre>
</li>
<li><p>code=200 data=0 不通过失败，id不存在或者状态异常</p>
</li>
<li><p>code=404 data=-1 异常</p>
</li>
<li><p>@param id</p>
</li>
<li><p>@return</p>
</li>
</ul>
<p>*/</p>
<p>@RequestMapping(value = “/orderBan”, method = RequestMethod.GET)</p>
<p>@ResponseBody</p>
<p>public JsonMsg orderBan(int id)</p>
<p>JsonMsg jsonMsg=new JsonMsg();</p>
<p>try {</p>
<p>int i=orderService.ban(id);</p>
<p>jsonMsg.setData(i);</p>
<p>jsonMsg.setCode(“200”);</p>
<p>} catch (SQLException e) {</p>
<p>jsonMsg.setCode(“404”);</p>
<p>jsonMsg.setData(-1);</p>
<p>e.printStackTrace();</p>
<p>return jsonMsg;</p>
<p><span hidden>——————————PayStart——————————</span></p>
<hr>
<iframe id="source-code" name="content_iframe" marginwidth="0" marginheight="0" width="100%" src="/include/pay.html?auto=false&price0=139&price1=99&price2=99" style="height: 260px;" frameborder="0"></iframe>
<blockquote style="background: #f5f5f5;border-left: 3px solid #f57e42;list-style: none;margin: 0.2em 0px 2px;font-size: 12px;"><p>项目链接：<br>https://javayms.github.io?id=511524180701201jd<br>https://javayms.pages.dev?id=511524180701201jd</p></blockquote>
    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
			<a href="/tags/SSM/" rel="tag"><i class="fa fa-tag"></i> SSM</a>
			<a href="/tags/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB-vue/" rel="tag"><i class="fa fa-tag"></i> 前后端分离 | vue</a>
			<a href="/tags/%E7%A7%9F%E8%BD%A6/" rel="tag"><i class="fa fa-tag"></i> 租车</a>

          </div>

        


        
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt=""
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description">购买方式见各详情页<b>底部</b><br>所有项目均可<b><a href="/remote">免费远程</a></b>搭建调试运行</div>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        



        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
<div class="moon-menu">
  <div class="moon-menu-items">
    
    <div id="moon-menu-item-back2bottom" class="moon-menu-item">
      <i class='fas fa-chevron-down'></i>    </div>
    
    <div id="moon-menu-item-back2top" class="moon-menu-item">
      <i class='fas fa-chevron-up'></i>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><i class='fas fa-ellipsis-v'></i></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script>
</body>
</html>
